# Other topics

This section contains information on more advanced use of NMA.

## Command line use

Nuclear Morphology Analysis is designed to be runnable via the command line for a new analysis or to export data from an existing `nmd` file.

The examples below use the cross platform standalone jar with a system installation of Java. Note that these arguments will not work with the Windows exe version.

To see the sub-commands:
```
java -jar Nuclear_Morphology_Analysis_${project.version}_standalone.jar -h
```

There are three sub-commands: `detect`,  `export` and `analyse`. 

Command | Use to...
--------|-----------
`detect`| create a new nmd file by detecting nuclei in directory of images and apply clustering or signal detection according to a predefined options file. An options file can be exported from a dataset you have already created and analysed via the UI.
`export`| export data from an existing nmd file for use in other programs
`analyse` | add new data to an existing nmd file

### `detect` 

To see all the detect options:
```
java -jar Nuclear_Morphology_Analysis_${project.version}_standalone.jar detect -h
```

For example, to run a new analysis:

```
java -jar Nuclear_Morphology_Analysis_${project.version}_standalone.jar detect --directory /path/to/image/directory --options /path/to/options/file.xml
```

### `export`

These commands correspond to the UI menu options in `Dataset > Export...`. 
To see all the export options:
```
java -jar Nuclear_Morphology_Analysis_${project.version}_standalone.jar export -h
```

To export nuclear measurements from an `.nmd` file:

```
java -jar Nuclear_Morphology_Analysis_${project.version}_standalone.jar export --file /path/to/file.nmd --measurements
```

Export options can be combined. To export nuclear signal measurements and nuclear measurements:

```
java -jar Nuclear_Morphology_Analysis_${project.version}_standalone.jar export --file /path/to/file.nmd --measurements --signals
```

Exported data files will be created in the same directory as the `nmd` file.

### `analyse`

These commands correspond to the UI menu options in `Dataset`. 
To see all the analyse options:

```
java -jar Nuclear_Morphology_Analysis_${project.version}_standalone.jar analyse -h
```

There are currently two operations available:

1. Adding clusters to an nmd file that have been defined externally. For example, you exported nuclear measurements, clustered them in another stats package, and now you want to look at the consensus shape of each cluster. This is described for the UI.
